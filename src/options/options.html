<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>URLRedirector 配置</title>
    <link rel="icon" href="../static/images/r.png"/>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css"/>
    <style>
        .middle {
            margin: auto;
            vertical-align: middle;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>URLRedirector 配置 <a class="small" target="_blank">(帮助主页)</a></h1>
    <hr>
    更新时间：<span id="lblUpdatedAt"></span>
    <div class="pull-right" style="display: inline-block">
        <button type="button" id="btnSave" class="btn btn-info" title="保存">
            <i class="glyphicon glyphicon-floppy-disk"></i> 保存
        </button>
        <button type="button" id="btnReset" class="btn btn-warning" title="重置">
            <i class="glyphicon glyphicon-refresh"></i> 重置
        </button>
    </div>
    <div class="text-danger" style="margin: 10px">
        <input type="checkbox" id="chbEnable"> 开启重定向
    </div>
    <div>
        <h2 style="display: inline-block">在线规则</h2>
        <div class="btn-group btn-group-sm" style="display: inline-block">
            <button type="button" id="btnAddOnlineURL" class="btn btn-default" title="添加">
                <i class="glyphicon glyphicon-plus-sign"></i>
            </button>
            <button type="button" id="btnDeleteOnlineURL" class="btn btn-default" title="删除">
                <i class="glyphicon glyphicon-minus-sign"></i>
            </button>
        </div>

        <label for="onlineInterval">更新间隔:</label>
        <select id="onlineInterval">
            <option value="15">15 分钟</option>
            <option value="30">30 分钟</option>
            <option value="45">45 分钟</option>
            <option value="60">1 小时</option>
            <option value="180">3 小时</option>
            <option value="360">6 小时</option>
            <option value="720">12 小时</option>
            <option value="1440">1 天</option>
        </select>
        <button type="button" id="btnDownload" class="btn btn-sm btn-default" title="下载在线规则">
            <i class="glyphicon glyphicon-save"></i>
        </button>
        <label id="downloadState"></label>

        <table id="tblOnlineURLs" class="table table-bordered table-striped">
            <thead>
            <tr>
                <th style="width: 20px">
                    <input type="checkbox" class="checkbox" style="margin: auto">
                </th>
                <th colspan="2">在线规则 URL</th>
                <th style="width: 50px">启用</th>
                <th style="width: 80px">优先顺序</th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>

    </div>

    <div>
        <h2 style="display: inline-block">用户规则</h2>
        <div class="btn-group btn-group-sm" style="display: inline-block">
            <button type="button" id="btnAddCustomRule" class="btn btn-default" title="添加">
                <i class="glyphicon glyphicon-plus-sign"></i>
            </button>
            <button type="button" id="btnEditCustomRule" class="btn btn-default" title="编辑">
                <i class="glyphicon glyphicon-edit"></i>
            </button>
            <button type="button" id="btnDeleteCustomRule" class="btn btn-default" title="删除">
                <i class="glyphicon glyphicon-minus-sign"></i>
            </button>
        </div>
        <table id="tblCustomRules" class="table table-bordered table-striped">
            <thead>
            <tr>
                <th style="width: 20px">
                    <input type="checkbox" class="checkbox"/>
                </th>
                <th>描述</th>
                <th>原始地址</th>
                <th>目标地址</th>
                <th style="width: 50px">启用</th>
                <th style="width: 80px">优先顺序</th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<!-- 用户自定义规则编辑框 -->
<div id="modalEditUserRule" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                    class="sr-only">关闭</span></button>
                <h4 class="modal-title">编辑用户规则</h4>
            </div>
            <div class="modal-body">
                <div class="form-horizontal" role="form">
                    <div class="form-group">
                        <label for="txtDescription" class="col-sm-2 control-label">规则描述</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="txtDescription" placeholder="规则描述">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="txtOrigin" class="col-sm-2 control-label">原始地址</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="txtOrigin" placeholder="原始地址正则表达式">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="txtTarget" class="col-sm-2 control-label">目标地址</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="txtTarget" placeholder="目标地址正则表达试">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="txtExclude" class="col-sm-2 control-label">排除地址</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="txtExclude" placeholder="排除地址正则表达式">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">请求方法</label>
                        <div class="col-sm-10">
                            <div class="checkbox-inline"><label><input type="checkbox" id="cbMethodAll" checked>全部方法</label></div>
                            <div class="collapse" id="divMethods">
                                <div class="checkbox-inline"><label><input type="checkbox" checked>GET</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>POST</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>PUT</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>PATCH</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>HEAD</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>DELETE</label></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">资源类型</label>
                        <div class="col-sm-10">
                            <div class="checkbox-inline"><label><input type="checkbox" id="cbTypeAll" checked>全部类型</label></div>
                            <div class="collapse" id="divTypes">
                                <div class="checkbox-inline"><label><input type="checkbox" checked>main_frame</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>sub_frame</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>stylesheet</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>script</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>image</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>object</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>xmlhttprequest</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>xbl</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>xslt</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>ping</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>beacon</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>xml_dtd</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>font</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>media</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>websocket</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>csp_report</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>imageset</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>web_manifest</label></div>
                                <div class="checkbox-inline"><label><input type="checkbox" checked>other</label></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="btnConfirmCustomRule">确定</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script src="../static/js/jquery.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>
<script src="../common.js"></script>
<script src="options.js"></script>
</body>
</html>